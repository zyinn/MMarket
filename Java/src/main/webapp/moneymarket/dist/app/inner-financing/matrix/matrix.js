!function(e){"use strict";function t(t,n,r,i,a){var o=this;o.rowsData=[];var c=function(){function n(){o.isLoading=!0,console.log(new Date+"inner"),t.getMatrixData({direction:r.filter.direction,quote_type:r.filter.quote_type,province:r.filter.province}).success(function(e){o.tableHeaders=e.result[0][0].map(function(e){return e.period.replace("T","")}),o.rowsNames=e.result[0].map(function(e){return i.matrixRowName[e[0].type]}),o.rowsData=e.result[0],r.originMatrix=o.rowsData,o.isLoading=!1})}e.isDefined(r.stopOfflineInterval)&&a.cancel(r.stopOfflineInterval),e.isDefined(r.stopInnerInterval)&&a.cancel(r.stopInnerInterval),n(),r.stopInnerInterval=a(n,6e4)};o.onSelected=function(e){r.setMatrix(o.rowsData),n.$emit("matrixChanged",{matrixCellType:e,target:"inner"})},n.$on("refreshMatrix",function(e,t){c(),r.setMatrix([]),n.$emit("matrixChanged","inner")})}function n(e,t){var n=function(t){return e.post("inner/matrix_price",t)};this.getMatrixData=n}e.module("moneyMarketApp").controller("innerMatrixController",t).service("innerMatrixService",n),t.$inject=["innerMatrixService","$scope","tableService","enumConfig","$interval"],n.$inject=["$http","appConfig"]}(window.angular);